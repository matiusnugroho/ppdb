import{g as a,l as E,E as I,f as A,z as B,j as C,o as P,k as R,w as h,d as f,a as r,s as n,v as s,p as T,q as j,r as K,B as $}from"../index.js";import{_ as q,a as D,P as G}from"./PlainLayout.js";import{u as M}from"./formValidationErrors.js";import{C as O}from"./component.js";import{s as z}from"./toast.js";import"./login-ilustrasi.js";import"./HeroIcon.vue_vue_type_script_setup_true_lang.js";import"./_plugin-vue_export-helper.js";function F(){const b=a(!1),i=M();return{registerSiswa:async m=>{var d,u;b.value=!0;try{const l=await E.post(I.REGISTER_SISWA,m);return l.data.success?!0:(i.errors=l.data.errors,!1)}catch(l){return console.error("Update profile error:",l.response),i.errors=((u=(d=l.response)==null?void 0:d.data)==null?void 0:u.errors)||{},!1}finally{b.value=!1}},loadingRegister:b}}const W={class:"mb-5.5"},Y=["innerHTML"],J={class:"mb-5.5"},Q=["innerHTML"],X={class:"mb-5.5"},Z=["innerHTML"],ee={class:"mb-5.5"},re=["innerHTML"],te={class:"mb-5.5"},ae=["innerHTML"],oe={class:"mb-5.5"},ne=["innerHTML"],se={class:"mb-5.5"},le=["innerHTML"],ie={class:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-5.5"},de={class:"md:col-span-3"},ue=["innerHTML"],me={class:"md:col-span-2"},be={class:"relative"},ke={class:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-primary"},pe=["innerHTML"],fe={class:"mb-5.5"},ce=["innerHTML"],ve={class:"mb-5.5"},xe=["innerHTML"],ge={class:"mb-5.5"},_e=["innerHTML"],ye={class:"mb-5.5"},we=["disabled"],Ne=A({__name:"SignupView",setup(b){const i=a(""),k=a(""),m=a(""),d=a(""),u=a(""),l=a(""),c=a(""),v=a(""),x=a(""),g=a(""),_=a(""),y=a(""),w=M(),{registerSiswa:L,loadingRegister:H}=F(),V=B(),S=async()=>{const p={nisn:i.value,nik:k.value,no_kk:m.value,nama:d.value,email:u.value,username:l.value,tempat_lahir:c.value,tanggal_lahir:v.value,nama_bapak:x.value,nama_ibu:g.value,no_hp_ortu:_.value,password:y.value};await L(p)?(V.addMessage("success",{title:"Pendaftaran Berhasil",detail:"Silakan Login dengan akun yang telah dibuat"}),await $.push({name:"login"})):z({message:"Gagal Mendaftar, perhatikan kesalahan pengisian data",type:"error"})},U=a({allowInput:!0,format:"d-m-Y"}),o=p=>{const e=w.errors[p];return e&&e.length>0?`
      <span class="flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1">
        ${e.join(", ")}
      </span>
    `:""};return C(()=>{w.clearErrors()}),(p,e)=>{const N=K("hero-icon");return P(),R(G,null,{default:h(()=>[f(D,{subtitle:"Start for free",title:"Sign Up to TailAdmin"},{default:h(()=>[r("form",{onSubmit:j(S,["prevent"])},[r("div",W,[e[12]||(e[12]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nisn"},"NISN",-1)),n(r("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nisn",id:"nisn",inputmode:"numeric"},null,512),[[s,i.value]]),r("div",{innerHTML:o("nisn")},null,8,Y)]),r("div",J,[e[13]||(e[13]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nik"},"NIK",-1)),n(r("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>k.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nik",id:"nik",inputmode:"numeric"},null,512),[[s,k.value]]),r("div",{innerHTML:o("nik")},null,8,Q)]),r("div",X,[e[14]||(e[14]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"no_kk"},"No. Kartu Keluarga",-1)),n(r("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"no_kk",id:"no_kk",inputmode:"numeric"},null,512),[[s,m.value]]),r("div",{innerHTML:o("no_kk")},null,8,Z)]),r("div",ee,[e[15]||(e[15]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"fullName"},"Nama",-1)),n(r("input",{"onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t),class:"w-full rounded border border-stroke bg-gray py-3 pr-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"fullName",id:"fullName"},null,512),[[s,d.value]]),r("div",{innerHTML:o("nama")},null,8,re)]),r("div",te,[e[16]||(e[16]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"emailAddress"},"Email Address",-1)),n(r("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>u.value=t),class:"w-full rounded border border-stroke bg-gray py-3 pr-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"email",name:"emailAddress",id:"emailAddress",inputmode:"email"},null,512),[[s,u.value]]),r("div",{innerHTML:o("email")},null,8,ae)]),r("div",oe,[e[17]||(e[17]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"Username"},"Username",-1)),n(r("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"Username",id:"Username",placeholder:"devidjhon24"},null,512),[[s,l.value]]),r("div",{innerHTML:o("username")},null,8,ne)]),r("div",se,[f(q,{label:"Password",modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=t=>y.value=t)},null,8,["modelValue"]),r("div",{innerHTML:o("password")},null,8,le)]),r("div",ie,[r("div",de,[e[18]||(e[18]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"tempat_lahir"}," Tempat Lahir ",-1)),n(r("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>c.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"tempat_lahir",id:"tempat_lahir",placeholder:"Tempat lahir anda"},null,512),[[s,c.value]]),r("div",{innerHTML:o("tempat_lahir")},null,8,ue)]),r("div",me,[e[19]||(e[19]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"tanggal-lahir"}," Tanggal Lahir ",-1)),r("div",be,[f(T(O),{modelValue:v.value,"onUpdate:modelValue":e[8]||(e[8]=t=>v.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",config:U.value,id:"tanggal-lahir"},null,8,["modelValue","config"]),r("span",ke,[f(N,{name:"calendar-search",class:"w-5 h-5"})])]),r("div",{innerHTML:o("tanggal_lahir")},null,8,pe)])]),r("div",fe,[e[20]||(e[20]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nama_bapak"},"Nama Bapak",-1)),n(r("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>x.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nama_bapak",id:"nama_bapak"},null,512),[[s,x.value]]),r("div",{innerHTML:o("nama_bapak")},null,8,ce)]),r("div",ve,[e[21]||(e[21]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nama_ibu"},"Nama Ibu",-1)),n(r("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>g.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nama_ibu",id:"nama_ibu"},null,512),[[s,g.value]]),r("div",{innerHTML:o("nama_ibu")},null,8,xe)]),r("div",ge,[e[22]||(e[22]=r("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"no_hp_ortu"},"No. Hp Orang Tua",-1)),n(r("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>_.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"no_hp_ortu",id:"no_hp_ortu",inputmode:"numeric"},null,512),[[s,_.value]]),r("div",{innerHTML:o("no_hp_ortu")},null,8,_e)]),r("div",ye,[r("button",{disabled:T(H),class:"w-full rounded bg-primary p-3 text-white"},"Submit",8,we)])],32)]),_:1})]),_:1})}}});export{Ne as default};
