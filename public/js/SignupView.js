import{g as l,h as q,E,f as I,A as C,i as P,o as R,k as A,w as L,d as n,a as e,j as r,n as B,e as G,p as K,r as $,C as j}from"../index.js";import{_ as z,a as D,P as O}from"./PlainLayout.js";import{u as M}from"./formValidationErrors.js";import{C as F}from"./component.js";import{s as W}from"./toast.js";import{h as t}from"./hasError.js";import{f as s}from"./fieldErrorHtml.js";import{I as i}from"./InputGroup.js";import{_ as Y}from"./SpinnerLoading.vue_vue_type_script_setup_true_lang.js";import"./login-ilustrasi.js";import"./HeroIcon.vue_vue_type_script_setup_true_lang.js";import"./_plugin-vue_export-helper.js";function J(){const c=l(!1),d=M();return{registerSiswa:async _=>{var m,p;c.value=!0;try{const u=await q.post(E.REGISTER_SISWA,_);return u.data.success?!0:(d.errors=u.data.errors,!1)}catch(u){return d.errors=((p=(m=u.response)==null?void 0:m.data)==null?void 0:p.errors)||{},!1}finally{c.value=!1}},loadingRegister:c}}const Q={class:"mb-1"},X=["innerHTML"],Z={class:"mb-1"},ee=["innerHTML"],ae={class:"mb-1"},re=["innerHTML"],oe={class:"mb-1"},ne=["innerHTML"],le={class:"mb-1"},se=["innerHTML"],te={class:"mb-1"},ie=["innerHTML"],ue={class:"mb-1"},de=["innerHTML"],me={class:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-1"},pe={class:"md:col-span-3 flex flex-col"},_e=["innerHTML"],ce={class:"md:col-span-2 flex flex-col"},ve={class:"relative flex-grow"},fe={class:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-primary"},be=["innerHTML"],ge={class:"mb-1"},he=["innerHTML"],ke={class:"mb-1"},Ve=["innerHTML"],Te={class:"mb-1"},xe=["innerHTML"],Le={class:"mb-5.5"},Me=["disabled"],we={class:"flex items-center gap-2"},Be=I({__name:"SignupView",setup(c){const d=l(""),v=l(""),_=l(""),m=l(""),p=l(""),u=l(""),f=l(""),b=l(""),g=l(""),h=l(""),k=l(""),V=l(""),w=M(),{registerSiswa:H,loadingRegister:T}=J(),y=C(),S=async()=>{const x={nisn:d.value,nik:v.value,no_kk:_.value,nama:m.value,email:p.value,username:u.value,tempat_lahir:f.value,tanggal_lahir:b.value,nama_bapak:g.value,nama_ibu:h.value,no_hp_ortu:k.value,password:V.value};await H(x)?(y.addMessage("success",{title:"Pendaftaran Berhasil",detail:"Silakan Login dengan akun yang telah dibuat"}),await j.push({name:"login"})):W({message:"Gagal Mendaftar, perhatikan kesalahan pengisian data",type:"error"})},U=l({allowInput:!0,format:"d-m-Y"});return P(()=>{w.clearErrors()}),(x,a)=>{const N=$("hero-icon");return R(),A(O,null,{default:L(()=>[n(D,{subtitle:"Start for free",title:"Sign Up to TailAdmin"},{default:L(()=>[e("form",{onSubmit:K(S,["prevent"])},[e("div",Q,[n(i,{label:"Nomor Induk Siswa Nasional",modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=o=>d.value=o),error:r(t)("nisn"),name:"nisn",inputmode:"numeric",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("nisn")},null,8,X)]),e("div",Z,[n(i,{label:"Nomor Induk Kependudukan",modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=o=>v.value=o),error:r(t)("nik"),name:"nik",inputmode:"numeric",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("nik")},null,8,ee)]),e("div",ae,[n(i,{label:"Nomor Kartu Keluarga",modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=o=>_.value=o),error:r(t)("no_kk"),name:"no_kk",inputmode:"numeric",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("no_kk")},null,8,re)]),e("div",oe,[n(i,{label:"Nama",modelValue:m.value,"onUpdate:modelValue":a[3]||(a[3]=o=>m.value=o),error:r(t)("nama"),name:"nama",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("nama")},null,8,ne)]),e("div",le,[n(i,{label:"Email",modelValue:p.value,"onUpdate:modelValue":a[4]||(a[4]=o=>p.value=o),error:r(t)("email"),name:"email",type:"email",inputmode:"email",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("email")},null,8,se)]),e("div",te,[n(i,{label:"Username",modelValue:u.value,"onUpdate:modelValue":a[5]||(a[5]=o=>u.value=o),error:r(t)("username"),name:"username",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("username")},null,8,ie)]),e("div",ue,[n(z,{label:"Password",name:"password",modelValue:V.value,"onUpdate:modelValue":a[6]||(a[6]=o=>V.value=o),error:r(t)("password"),required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("password")},null,8,de)]),e("div",me,[e("div",pe,[n(i,{label:"Tempat Lahir",modelValue:f.value,"onUpdate:modelValue":a[7]||(a[7]=o=>f.value=o),error:r(t)("tempat_lahir"),name:"tempat_lahir",inputmode:"text",required:"",class:"h-full"},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("tempat_lahir")},null,8,_e)]),e("div",ce,[a[12]||(a[12]=e("label",{class:"mb-1 block text-black dark:text-white",for:"tanggal-lahir"}," Tanggal Lahir ",-1)),e("div",ve,[n(r(F),{modelValue:b.value,"onUpdate:modelValue":a[8]||(a[8]=o=>b.value=o),class:"w-full rounded border border-stroke bg-gray py-1 px-2.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary h-full",config:U.value,id:"tanggal-lahir"},null,8,["modelValue","config"]),e("span",fe,[n(N,{name:"calendar-search",class:"w-5 h-5"})])]),e("div",{innerHTML:r(s)("tanggal_lahir")},null,8,be)])]),e("div",ge,[n(i,{label:"Nama Ayah",modelValue:g.value,"onUpdate:modelValue":a[9]||(a[9]=o=>g.value=o),error:r(t)("nama_bapak"),name:"nama_bapak",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("nama_bapak")},null,8,he)]),e("div",ke,[n(i,{label:"Nama Ibu",modelValue:h.value,"onUpdate:modelValue":a[10]||(a[10]=o=>h.value=o),error:r(t)("nama_ibu"),name:"nama_ibu",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("nama_ibu")},null,8,Ve)]),e("div",Te,[n(i,{label:"No. HP Orang Tua",modelValue:k.value,"onUpdate:modelValue":a[11]||(a[11]=o=>k.value=o),error:r(t)("no_hp_ortu"),name:"no_hp_ortu",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:r(s)("no_hp_ortu")},null,8,xe)]),e("div",Le,[e("button",{disabled:r(T),class:"w-full flex justify-center rounded bg-primary py-2 px-6 font-medium text-white hover:bg-opacity-90"},[e("span",we,[n(Y,{loading:r(T),size:"xs",class:B(["transition-transform duration-300 ease-in-out gap-2",r(T)?"translate-x-[-10px]":"translate-x-0"])},null,8,["loading","class"]),a[13]||(a[13]=G(" Daftar "))])],8,Me)])],32)]),_:1})]),_:1})}}});export{Be as default};
