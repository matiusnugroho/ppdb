import{g as a,l as E,E as I,f as A,j as C,r as B,o as P,k as R,w,b as p,a as e,s,v as n,p as T,q as j,Y as K}from"../index.js";import{u as $,_ as q,a as D,P as G}from"./messages.js";import{u as M}from"./formValidationErrors.js";import{C as O}from"./component.js";import{s as Y}from"./toast.js";import"./login-ilustrasi.js";import"./HeroIcon.vue_vue_type_script_setup_true_lang.js";import"./_plugin-vue_export-helper.js";function F(){const b=a(!1),i=M();return{registerSiswa:async m=>{var d,u;b.value=!0;try{const l=await E.post(I.REGISTER_SISWA,m);return l.data.success?!0:(i.errors=l.data.errors,!1)}catch(l){return console.error("Update profile error:",l.response),i.errors=((u=(d=l.response)==null?void 0:d.data)==null?void 0:u.errors)||{},!1}finally{b.value=!1}},loadingRegister:b}}const W={class:"mb-5.5"},z=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nisn"},"NISN",-1),J=["innerHTML"],Q={class:"mb-5.5"},X=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nik"},"NIK",-1),Z=["innerHTML"],ee={class:"mb-5.5"},re=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"no_kk"},"No. Kartu Keluarga",-1),te=["innerHTML"],ae={class:"mb-5.5"},oe=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"fullName"},"Nama",-1),se=["innerHTML"],ne={class:"mb-5.5"},le=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"emailAddress"},"Email Address",-1),ie=["innerHTML"],de={class:"mb-5.5"},ue=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"Username"},"Username",-1),me=["innerHTML"],be={class:"mb-5.5"},ce=["innerHTML"],ke={class:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-5.5"},pe={class:"md:col-span-3"},fe=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"tempat_lahir"}," Tempat Lahir ",-1),_e=["innerHTML"],ve={class:"md:col-span-2"},xe=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"tanggal-lahir"}," Tanggal Lahir ",-1),he={class:"relative"},ge={class:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-primary"},ye=["innerHTML"],we={class:"mb-5.5"},Te=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nama_bapak"},"Nama Bapak",-1),Me=["innerHTML"],Le={class:"mb-5.5"},He=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"nama_ibu"},"Nama Ibu",-1),Ve=["innerHTML"],Se={class:"mb-5.5"},Ue=e("label",{class:"mb-3 block text-sm font-medium text-black dark:text-white",for:"no_hp_ortu"},"No. Hp Orang Tua",-1),Ne=["innerHTML"],Ee={class:"mb-5.5"},Ie=["disabled"],qe=A({__name:"SignupView",setup(b){const i=a(""),c=a(""),m=a(""),d=a(""),u=a(""),l=a(""),f=a(""),_=a(""),v=a(""),x=a(""),h=a(""),g=a(""),y=M(),{registerSiswa:L,loadingRegister:H}=F(),V=$(),S=async()=>{const k={nisn:i.value,nik:c.value,no_kk:m.value,nama:d.value,email:u.value,username:l.value,tempat_lahir:f.value,tanggal_lahir:_.value,nama_bapak:v.value,nama_ibu:x.value,no_hp_ortu:h.value,password:g.value};await L(k)?(V.addMessage("success",{title:"Pendaftaran Berhasil",detail:"Silakan Login dengan akun yang telah dibuat"}),await K.push({name:"login"})):Y({message:"Gagal Mendaftar, perhatikan kesalahan pengisian data",type:"error"})},U=a({allowInput:!0,format:"d-m-Y"}),o=k=>{const r=y.errors[k];return r&&r.length>0?`
      <span class="flex items-center font-medium tracking-wide text-red-500 text-xs mt-1 ml-1">
        ${r.join(", ")}
      </span>
    `:""};return C(()=>{y.clearErrors()}),(k,r)=>{const N=B("hero-icon");return P(),R(G,null,{default:w(()=>[p(D,{subtitle:"Start for free",title:"Sign Up to TailAdmin"},{default:w(()=>[e("form",{onSubmit:j(S,["prevent"])},[e("div",W,[z,s(e("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>i.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nisn",id:"nisn",inputmode:"numeric"},null,512),[[n,i.value]]),e("div",{innerHTML:o("nisn")},null,8,J)]),e("div",Q,[X,s(e("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>c.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nik",id:"nik",inputmode:"numeric"},null,512),[[n,c.value]]),e("div",{innerHTML:o("nik")},null,8,Z)]),e("div",ee,[re,s(e("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>m.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"no_kk",id:"no_kk",inputmode:"numeric"},null,512),[[n,m.value]]),e("div",{innerHTML:o("no_kk")},null,8,te)]),e("div",ae,[oe,s(e("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>d.value=t),class:"w-full rounded border border-stroke bg-gray py-3 pr-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"fullName",id:"fullName"},null,512),[[n,d.value]]),e("div",{innerHTML:o("nama")},null,8,se)]),e("div",ne,[le,s(e("input",{"onUpdate:modelValue":r[4]||(r[4]=t=>u.value=t),class:"w-full rounded border border-stroke bg-gray py-3 pr-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"email",name:"emailAddress",id:"emailAddress",inputmode:"email"},null,512),[[n,u.value]]),e("div",{innerHTML:o("email")},null,8,ie)]),e("div",de,[ue,s(e("input",{"onUpdate:modelValue":r[5]||(r[5]=t=>l.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"Username",id:"Username",placeholder:"devidjhon24"},null,512),[[n,l.value]]),e("div",{innerHTML:o("username")},null,8,me)]),e("div",be,[p(q,{label:"Password",modelValue:g.value,"onUpdate:modelValue":r[6]||(r[6]=t=>g.value=t)},null,8,["modelValue"]),e("div",{innerHTML:o("password")},null,8,ce)]),e("div",ke,[e("div",pe,[fe,s(e("input",{"onUpdate:modelValue":r[7]||(r[7]=t=>f.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"tempat_lahir",id:"tempat_lahir",placeholder:"Tempat lahir anda"},null,512),[[n,f.value]]),e("div",{innerHTML:o("tempat_lahir")},null,8,_e)]),e("div",ve,[xe,e("div",he,[p(T(O),{modelValue:_.value,"onUpdate:modelValue":r[8]||(r[8]=t=>_.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",config:U.value,id:"tanggal-lahir"},null,8,["modelValue","config"]),e("span",ge,[p(N,{name:"calendar-search",class:"w-5 h-5"})])]),e("div",{innerHTML:o("tanggal_lahir")},null,8,ye)])]),e("div",we,[Te,s(e("input",{"onUpdate:modelValue":r[9]||(r[9]=t=>v.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nama_bapak",id:"nama_bapak"},null,512),[[n,v.value]]),e("div",{innerHTML:o("nama_bapak")},null,8,Me)]),e("div",Le,[He,s(e("input",{"onUpdate:modelValue":r[10]||(r[10]=t=>x.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"nama_ibu",id:"nama_ibu"},null,512),[[n,x.value]]),e("div",{innerHTML:o("nama_ibu")},null,8,Ve)]),e("div",Se,[Ue,s(e("input",{"onUpdate:modelValue":r[11]||(r[11]=t=>h.value=t),class:"w-full rounded border border-stroke bg-gray py-3 px-4.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary",type:"text",name:"no_hp_ortu",id:"no_hp_ortu",inputmode:"numeric"},null,512),[[n,h.value]]),e("div",{innerHTML:o("no_hp_ortu")},null,8,Ne)]),e("div",Ee,[e("button",{disabled:T(H),class:"w-full rounded bg-primary p-3 text-white"},"Submit",8,Ie)])],32)]),_:1})]),_:1})}}});export{qe as default};
