import{u as B,a as U}from"./useSekolah.BeRg058J.js";import{S as J,b as E}from"./buatOption.BTQFN8sK.js";import{F as T}from"./FilterSelect.B9v0oc3M.js";import{u as q}from"./useKecamatan.BULQhWxi.js";import{d as G,h as f,A as H,l as y,o as I,a as n,c as i,b as e,f as z,e as r,t as d,u as l,F as _,k as K,C as p,g as h,n as w}from"../index.js";import{_ as Q}from"./LoadingInfoComponent.vue_vue_type_script_setup_true_lang.Dx7bmB2e.js";import{_ as R}from"./NoDataComponent.vue_vue_type_script_setup_true_lang.0N8bNYdP.js";import"./SpinnerLoading.vue_vue_type_script_setup_true_lang.CQvHfLuO.js";const W={class:"min-h-screen bg-gray-50/50 py-12 px-4 sm:px-6 lg:px-8"},X={class:"max-w-7xl mx-auto space-y-8"},Y={class:"bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col md:flex-row gap-4 items-center justify-between sticky top-20 z-10 backdrop-blur-xl bg-white/90"},Z={class:"flex flex-col md:flex-row gap-4 w-full md:w-auto flex-1"},ee={class:"w-full md:max-w-xs"},te={class:"w-full md:max-w-[200px]"},ae={class:"flex items-center gap-3 w-full md:w-auto justify-between md:justify-end"},se={class:"text-sm font-medium text-gray-500 whitespace-nowrap bg-gray-50 px-3 py-2 rounded-lg border border-gray-200"},oe={class:"text-indigo-600 font-bold"},le={key:0,class:"flex justify-center py-12"},ne={key:1,class:"py-12"},ie={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},re={class:"p-6 pb-4 relative"},de={class:"flex justify-between items-start gap-4 mb-2 pl-3"},ce={class:"text-lg font-bold text-gray-900 group-hover:text-indigo-600 transition-colors line-clamp-2"},ue={class:"pl-3 flex flex-col gap-1 text-sm text-gray-500"},ge={class:"flex items-center gap-2"},me={class:"font-mono text-gray-700"},pe={class:"px-6 py-4 bg-gray-50/50 border-t border-b border-gray-100 flex-1 pl-9 space-y-4"},xe={class:"flex items-start gap-3"},fe={class:"text-sm font-medium text-gray-700"},be={class:"text-xs text-gray-500 mt-1 leading-relaxed"},ve={class:"flex items-start gap-3"},ye={class:"w-full"},_e={class:"space-y-1"},he={class:"text-sm text-gray-700 flex items-center gap-2"},we={key:0,class:"flex items-center gap-1.5 min-w-0"},ke={class:"text-xs text-indigo-600 truncate break-all"},Se={class:"flex items-start gap-3"},Pe={class:"text-sm font-medium text-gray-700 capitalize"},je={class:"p-4 pl-9 flex items-center justify-between bg-white"},Ne={class:"flex items-center gap-2"},Ce={class:"text-lg font-bold text-gray-900"},Ve={key:3,class:"flex justify-center mt-12"},Te={class:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination"},ze=["disabled"],Ke=["onClick"],De={key:1,class:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-700 ring-1 ring-inset ring-gray-300 focus:outline-offset-0"},Le=["disabled"],qe=G({__name:"SekolahPages",setup(Me){const{kecamatanList:D,fetchKecamatan:L}=q(),u=f(""),g=f(""),c=f("10"),M=H(()=>{const s=E(D.value,"nama","id");return[{value:"",label:"Semua Kecamatan"},...s]}),F=f([{label:"Semua Jenjang",value:""},{label:"SD",value:"sd"},{label:"SMP",value:"smp"}]),m=B(),{fetchAllSekolah:x,loadingSekolah:b,dataSekolah:o}=U(),O=f([{label:"10 Sekolah",value:"10"},{label:"25 Sekolah",value:"25"},{label:"50 Sekolah",value:"50"},{label:"100 Sekolah",value:"100"}]);y(u,s=>{m.kecamatan_id=s,x(Number(c.value),1,g.value,s)}),y(g,s=>{m.jenjang=s,x(Number(c.value),1,s,u.value)}),y(c,s=>{m.per_page=Number(s),x(Number(s),1,g.value,u.value)});const v=s=>{m.page=s,m.currentPage=s,x(Number(c.value),s,g.value,u.value)},$=()=>{var s;(s=o.value)!=null&&s.nextPage&&v(o.value.currentPage+1)},A=()=>{var s;(s=o.value)!=null&&s.prevPage&&v(o.value.currentPage-1)};return I(async()=>{await m.resetTodefault(),L(),c.value="10",x(10,1,"","")}),(s,a)=>{var k,S,P;return n(),i("div",W,[e("div",X,[a[12]||(a[12]=e("div",{class:"text-center space-y-4"},[e("h1",{class:"text-4xl font-extrabold text-gray-900 sm:text-5xl md:text-6xl tracking-tight"},[z(" Direktori "),e("span",{class:"text-indigo-600 bg-clip-text text-transparent bg-gradient-to-r from-indigo-600 to-purple-600"},"Sekolah")]),e("p",{class:"max-w-2xl mx-auto text-lg text-gray-600"}," Temukan informasi lengkap mengenai sekolah-sekolah di Kabupaten Kuantan Singingi. ")],-1)),e("div",Y,[e("div",Z,[e("div",ee,[r(T,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),options:M.value,placeholder:"Pilih Kecamatan",class:"w-full"},null,8,["modelValue","options"])]),e("div",te,[r(T,{modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=t=>g.value=t),options:F.value,placeholder:"Jenjang",class:"w-full"},null,8,["modelValue","options"])])]),e("div",ae,[r(J,{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=t=>c.value=t),name:"per_page",options:O.value,class:"min-w-[140px]"},null,8,["modelValue","options"]),e("div",se,[a[3]||(a[3]=z(" Total: ")),e("span",oe,d(l(b)?"...":((k=l(o))==null?void 0:k.total)??0),1)])])]),l(b)?(n(),i("div",le,[r(Q)])):!((S=l(o))!=null&&S.data)||l(o).data.length===0?(n(),i("div",ne,[r(R,{title:"Tidak Ditemukan",message:"Maaf, tidak ada data sekolah yang sesuai dengan filter Anda."})])):(n(),i("div",ie,[(n(!0),i(_,null,K(l(o).data,(t,j)=>{var N,C,V;return n(),i("div",{key:t.id||j,class:"group bg-white rounded-2xl border border-gray-200 overflow-hidden hover:shadow-xl hover:border-indigo-100 transition-all duration-300 flex flex-col"},[e("div",re,[e("div",{class:w(["absolute top-0 left-0 w-1.5 h-full",((N=t.jenjang)==null?void 0:N.toLowerCase())==="sd"?"bg-blue-500":"bg-orange-500"])},null,2),e("div",de,[e("h3",ce,d(t.nama_sekolah),1),e("span",{class:w(["px-2.5 py-1 rounded-md text-xs font-bold uppercase tracking-wide shrink-0",((C=t.jenjang)==null?void 0:C.toLowerCase())==="sd"?"bg-blue-50 text-blue-700 border border-blue-100":"bg-orange-50 text-orange-700 border border-orange-100"])},d(t.jenjang),3)]),e("div",ue,[e("div",ge,[a[4]||(a[4]=e("span",{class:"font-medium text-gray-400 text-xs uppercase"},"NPSN:",-1)),e("span",me,d(t.npsn),1)])])]),e("div",pe,[e("div",xe,[r(p,{name:"map-pin",class:"w-5 h-5 text-gray-400 mt-0.5 shrink-0"}),e("div",null,[a[5]||(a[5]=e("p",{class:"text-xs font-bold text-gray-400 uppercase mb-1"},"Lokasi",-1)),e("p",fe,d((V=t.kecamatan)==null?void 0:V.nama),1),e("p",be,d(t.alamat),1)])]),e("div",ve,[r(p,{name:"phone",class:"w-5 h-5 text-gray-400 mt-0.5 shrink-0"}),e("div",ye,[a[6]||(a[6]=e("p",{class:"text-xs font-bold text-gray-400 uppercase mb-1"},"Kontak",-1)),e("div",_e,[e("p",he,d(t.no_telp||"-"),1),t.email?(n(),i("div",we,[e("p",ke,d(t.email),1)])):h("",!0)])])]),e("div",Se,[r(p,{name:"user-circle",class:"w-5 h-5 text-gray-400 mt-0.5 shrink-0"}),e("div",null,[a[7]||(a[7]=e("p",{class:"text-xs font-bold text-gray-400 uppercase mb-1"},"Kepala Sekolah",-1)),e("p",Pe,d(t.nama_kepsek),1)])])]),e("div",je,[a[9]||(a[9]=e("div",{class:"text-xs font-medium text-gray-500"}," Daya Tampung ",-1)),e("div",Ne,[r(p,{name:"user-group",class:"w-4 h-4 text-indigo-500"}),e("span",Ce,d(t.daya_tampung),1),a[8]||(a[8]=e("span",{class:"text-xs text-gray-400"},"Siswa",-1))])])])}),128))])),!l(b)&&((P=l(o))!=null&&P.data)&&l(o).data.length>0?(n(),i("div",Ve,[e("nav",Te,[e("button",{onClick:A,disabled:!l(o).prevPage,class:"relative inline-flex items-center rounded-l-md px-3 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[a[10]||(a[10]=e("span",{class:"sr-only"},"Previous",-1)),r(p,{name:"chevron-left",class:"h-5 w-5","aria-hidden":"true"})],8,ze),(n(!0),i(_,null,K(l(o).lastPage,t=>(n(),i(_,{key:t},[Math.abs(t-l(o).currentPage)<3||t===1||t===l(o).lastPage?(n(),i("button",{key:0,onClick:j=>v(t),class:w([t===l(o).currentPage?"relative z-10 inline-flex items-center bg-indigo-600 px-4 py-2 text-sm font-semibold text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600":"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"])},d(t),11,Ke)):Math.abs(t-l(o).currentPage)===3?(n(),i("span",De," ... ")):h("",!0)],64))),128)),e("button",{onClick:$,disabled:!l(o).nextPage,class:"relative inline-flex items-center rounded-r-md px-3 py-2 text-gray-400 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"},[a[11]||(a[11]=e("span",{class:"sr-only"},"Next",-1)),r(p,{name:"chevron-right",class:"h-5 w-5","aria-hidden":"true"})],8,Le)])])):h("",!0)])])}}});export{qe as default};
