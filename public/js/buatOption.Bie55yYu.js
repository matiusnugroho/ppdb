import{d as V,h as u,A as B,D as m,a as l,c as r,b as a,f as v,t as p,g as h,e as y,C as D,n as x,E as z,F as I,k as L,a7 as N,s as T,a8 as q,j as O,_ as $}from"../index.js";import{_ as j}from"./SpinnerLoading.vue_vue_type_script_setup_true_lang.CQvHfLuO.js";const A={class:"mb-1 block text-black dark:text-white"},E={key:0,class:"text-meta-1"},F={class:"flex items-center mr-2"},M={key:0,class:"mr-2"},P={class:"absolute right-0 mt-2 w-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-[9999]"},U={class:"p-1"},G={class:"custom-scrollbar max-h-48 overflow-y-auto"},H=["onClick"],J=V({__name:"SearchableSelect",props:{label:String,options:{type:Array,required:!0},customClasses:String,required:{type:Boolean,default:!1},modelValue:{type:String,default:""},placeholder:{type:String,default:"Pilih"},loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:d}){const f=e,n=d,s=u(!1),c=u(""),b=u(null),g=u(null),k=()=>{s.value=!s.value,s.value&&T(()=>{var t;(t=b.value)==null||t.focus()})},_=()=>{s.value=!1},w=t=>{c.value="",g.value=t.label,n("update:modelValue",t.value),s.value=!1},S=B(()=>{const t=c.value.toLowerCase();return f.options.filter(i=>i.label.toLowerCase().includes(t))});return(t,i)=>{const C=q("click-outside");return m((l(),r("div",{class:x(["relative group",e.customClasses])},[a("label",A,[v(p(e.label)+" ",1),e.required?(l(),r("span",E,"*")):h("",!0)]),a("div",{onClick:k,class:x(["cursor-pointer inline-flex justify-between w-full px-4 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-blue-500",[e.error?"border-red-500 dark:border-red-500 bg-red-200 focus:border-red-500 focus-visible:outline-none":"bg-white"]])},[a("span",F,[e.loading?(l(),r("span",M,[y(j,{loading:e.loading,size:"xs"},null,8,["loading"])])):h("",!0),v(" "+p(g.value||e.placeholder),1)]),y(D,{name:"caret-down",size:"18"})],2),m(a("div",P,[a("div",U,[m(a("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>c.value=o),class:"block w-full px-4 py-2 text-gray-800 border rounded-md border-gray-300 focus:outline-none",type:"text",placeholder:"Search items",autocomplete:"off",ref_key:"searchInput",ref:b},null,512),[[z,c.value]])]),a("div",G,[(l(!0),r(I,null,L(S.value,o=>(l(),r("a",{key:o.value,href:"#",onClick:O(K=>w(o),["prevent"]),class:"block w-full px-4 py-2 text-gray-700 hover:bg-gray-100 active:bg-blue-100 cursor-pointer rounded-md"},p(o.label),9,H))),128))])],512),[[N,s.value]])],2)),[[C,_]])}}}),W=$(J,[["__scopeId","data-v-5e55be6f"]]);function X(e,d,f){return e.map(n=>({label:n[d],value:n[f]}))}export{W as S,X as b};
