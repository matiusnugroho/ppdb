import{_ as S,a as x}from"./DefaultLayout.vue_vue_type_script_setup_true_lang.6-Gez_Sj.js";import{_ as b}from"./TabelSekolahWithDataComponent.vue_vue_type_script_setup_true_lang.vhWBsddh.js";import{u as w,a as T}from"./useSekolah.DNM2-tfN.js";import{u as D}from"./useKecamatan.BULQhWxi.js";import{b as $}from"./buatOption.Bie55yYu.js";import{j as C}from"./jenjang.DlmV0PPG.js";import{d as K,h as t,A as N,l as o,o as O,a as A,p as B,w as F,e as s,u as r}from"../index.js";import"./authComposable.sKl44bRY.js";import"./logo-ppdb.BW9ypDwz.js";import"./NoDataComponent.vue_vue_type_script_setup_true_lang.0N8bNYdP.js";import"./usePendaftaran.DplSNUYV.js";import"./FilterSelect.DRPwYj1o.js";import"./SpinnerLoading.vue_vue_type_script_setup_true_lang.CQvHfLuO.js";import"./formValidationErrors.YeWR-HPr.js";const X=K({__name:"DataSekolahView",setup(V){const{kecamatanList:l,fetchKecamatan:m}=D(),p=t(""),g=t(""),u=t(),_=N(()=>{const e=$(l.value,"nama","id");return[{value:null,label:"Semua Kecamatan"},...e]}),d=t([{label:"Semua Jenjang",value:null},...C]),a=w(),{fetchAllSekolah:n,loadingSekolah:i,dataSekolah:j}=T(),f={total:0,currentPage:1,prevPage:null,nextPage:null,lastPage:1,data:[]};o(p,e=>{a.kecamatan_id=e,n(a.per_page,1,a.jenjang,a.kecamatan_id)}),o(g,e=>{a.jenjang=e,n(a.per_page,1,a.jenjang,a.kecamatan_id)}),o(u,e=>{a.per_page=e,n(a.per_page,1,a.jenjang,a.kecamatan_id)});const k=e=>{a.page=e,a.currentPage=e,n(a.per_page,a.page,a.jenjang,a.kecamatan_id)},P=()=>{a.page=a.page+1,a.currentPage=a.currentPage+1,n(a.per_page,a.page,a.jenjang,a.kecamatan_id)},h=()=>{a.page=a.page-1,a.currentPage=a.currentPage-1,n(a.per_page,a.page,a.jenjang,a.kecamatan_id)},v=(e,c)=>{p.value=e,g.value=c};return O(async()=>{await a.resetTodefault(),m(),n(a.per_page,a.page,a.jenjang,a.kecamatan_id)}),(e,c)=>(A(),B(x,null,{default:F(()=>[s(S,{pageTitle:"Data Pendaftaran"}),s(b,{"kecamatan-options":_.value,"jenjang-options":d.value,data:r(i)?f:r(j),loading:r(i),needimportbutton:!1,title:"Data Pendaftaran",onFilter:v,onPrevPage:h,onNextPage:P,onPageChange:k},null,8,["kecamatan-options","jenjang-options","data","loading"])]),_:1}))}});export{X as default};
