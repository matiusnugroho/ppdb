import{f as r,M as D,L as G,d as z,S as J,A as j,g as F,o as W,m as Y,w as S,b as o,a as e,u as n,n as Q,e as X,i as Z,r as ee,U as ae,B as ne}from"../index.js";import{_ as le,P as oe}from"./PlainLayout.ContBw-A.js";import{u as U}from"./formValidationErrors.Bg25VS2r.js";import{C as re}from"./component.DleZaA-r.js";import{_ as se}from"./PasswordInput.vue_vue_type_script_setup_true_lang.DTq_JsKd.js";import{h as t}from"./hasError.BEgvbfcM.js";import{f as s}from"./fieldErrorHtml.CQlIIKHn.js";import{I as i}from"./InputGroup.B4554_nz.js";import{_ as te}from"./SpinnerLoading.vue_vue_type_script_setup_true_lang.CuUXFzUo.js";import{j as ie}from"./jenjang.DlmV0PPG.js";import{_ as y}from"./SelectGroup.vue_vue_type_script_setup_true_lang.CJHeiv7S.js";import{u as ue}from"./useKecamatan.CAPM-1Cn.js";import{S as de,b as me}from"./buatOption.z1xkZk61.js";import{T as pe}from"./TextAreaGroup.xaDRFsBp.js";import"./logo-ppdb.BW9ypDwz.js";import"./login-ilustrasi.CSbcqYU5.js";function _e(){const v=r(!1),d=U();return{registerSiswa:async _=>{var m,p;v.value=!0;try{const u=await D.post(G.REGISTER_SISWA,_);return u.data.success?!0:(d.errors=u.data.errors,!1)}catch(u){return d.errors=((p=(m=u.response)==null?void 0:m.data)==null?void 0:p.errors)||{},!1}finally{v.value=!1}},loadingRegister:v}}const ve={class:"mb-1"},ce=["innerHTML"],be={class:"mb-1"},fe=["innerHTML"],ge={class:"mb-1"},ke=["innerHTML"],Ve={class:"mb-1"},he=["innerHTML"],Le={class:"mb-1"},Te=["innerHTML"],Me={class:"mb-1"},He=["innerHTML"],xe={class:"mb-1"},we=["innerHTML"],je={class:"mb-1"},Se=["innerHTML"],ye={class:"mb-1"},Ue=["innerHTML"],Ne={class:"mb-1"},qe=["innerHTML"],Ke={class:"mb-1"},Pe=["innerHTML"],Ee={class:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-1"},Ie={class:"md:col-span-3 flex flex-col"},Ce=["innerHTML"],Oe={class:"md:col-span-2 flex flex-col"},Be={class:"relative flex-grow"},Ae={class:"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer text-primary"},Re=["innerHTML"],$e={class:"mb-1"},De=["innerHTML"],Ge={class:"mb-1"},ze=["innerHTML"],Je={class:"mb-1"},Fe=["innerHTML"],We={class:"mb-5.5"},Ye=["disabled"],Qe={class:"flex items-center gap-2"},va=z({__name:"SignupView",setup(v){const d=r(""),c=r(""),_=r(""),m=r(""),p=r(""),u=r(""),b=r(""),f=r(""),g=r(""),k=r(""),V=r(""),h=r(""),L=r(""),T=r(""),M=r(""),H=r(""),N=r([...ie]),q=U(),{registerSiswa:K,loadingRegister:x}=_e(),{kecamatanList:P,fetchKecamatan:E,loadingKecamatan:I}=ue(),C=J(),O=async()=>{const w={jenjang:d.value,kecamatan_id:c.value,alamat:_.value,nisn:m.value,nik:p.value,no_kk:u.value,nama:b.value,jenis_kelamin:f.value,email:g.value,username:k.value,tempat_lahir:V.value,tanggal_lahir:h.value,nama_bapak:L.value,nama_ibu:T.value,no_hp_ortu:M.value,password:H.value};await K(w)?(C.addMessage("success",{title:"Pendaftaran Berhasil",detail:"Silakan Login dengan akun yang telah dibuat"}),await ae.push({name:"login"})):ne({message:"Gagal Mendaftar, perhatikan kesalahan pengisian data",type:"error"})},B=r({allowInput:!0,format:"d-m-Y"}),A=j(()=>me(P.value,"nama","id")),R=j(()=>[{label:"Laki-laki",value:"L"},{label:"Perempuan",value:"P"}]);return F(()=>{q.clearErrors(),E()}),(w,a)=>{const $=ee("hero-icon");return W(),Y(oe,null,{default:S(()=>[o(le,{subtitle:"PPDB Online Kabupaten Kuantan singingi",title:"Daftarkan Siswa"},{default:S(()=>[e("form",{onSubmit:Z(O,["prevent"])},[e("div",ve,[o(y,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=l=>d.value=l),error:n(t)("jenjang"),name:"jenjang",label:"Jenjang",options:N.value},null,8,["modelValue","error","options"]),e("div",{innerHTML:n(s)("jenjang")},null,8,ce)]),e("div",be,[o(i,{label:"Nomor Induk Siswa Nasional",modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=l=>m.value=l),error:n(t)("nisn"),name:"nisn",inputmode:"numeric"},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("nisn")},null,8,fe)]),e("div",ge,[o(i,{label:"Nomor Induk Kependudukan",modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=l=>p.value=l),error:n(t)("nik"),name:"nik",inputmode:"numeric",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("nik")},null,8,ke)]),e("div",Ve,[o(i,{label:"Nomor Kartu Keluarga",modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=l=>u.value=l),error:n(t)("no_kk"),name:"no_kk",inputmode:"numeric",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("no_kk")},null,8,he)]),e("div",Le,[o(i,{label:"Nama",modelValue:b.value,"onUpdate:modelValue":a[4]||(a[4]=l=>b.value=l),error:n(t)("nama"),name:"nama",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("nama")},null,8,Te)]),e("div",Me,[o(y,{modelValue:f.value,"onUpdate:modelValue":a[5]||(a[5]=l=>f.value=l),error:n(t)("jenis_kelamin"),name:"jenis_kelamin",label:"Jenis Kelamin",options:R.value},null,8,["modelValue","error","options"]),e("div",{innerHTML:n(s)("jenis_kelamin")},null,8,He)]),e("div",xe,[o(i,{label:"Email",modelValue:g.value,"onUpdate:modelValue":a[6]||(a[6]=l=>g.value=l),error:n(t)("email"),name:"email",type:"email",inputmode:"email",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("email")},null,8,we)]),e("div",je,[o(i,{label:"Username",modelValue:k.value,"onUpdate:modelValue":a[7]||(a[7]=l=>k.value=l),error:n(t)("username"),name:"username",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("username")},null,8,Se)]),e("div",ye,[o(se,{label:"Password",name:"password",modelValue:H.value,"onUpdate:modelValue":a[8]||(a[8]=l=>H.value=l),error:n(t)("password"),required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("password")},null,8,Ue)]),e("div",Ne,[o(de,{required:"",label:"Pilih Kecamatan",placeholder:"Pilih Kecmatan",options:A.value,modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=l=>c.value=l),loading:n(I)},null,8,["options","modelValue","loading"]),e("div",{innerHTML:n(s)("kecamatan_id")},null,8,qe)]),e("div",Ke,[o(pe,{error:n(t)("alamat"),name:"alamat",label:"Alamat",modelValue:_.value,"onUpdate:modelValue":a[10]||(a[10]=l=>_.value=l)},null,8,["error","modelValue"]),e("div",{innerHTML:n(s)("alamat")},null,8,Pe)]),e("div",Ee,[e("div",Ie,[o(i,{label:"Tempat Lahir",modelValue:V.value,"onUpdate:modelValue":a[11]||(a[11]=l=>V.value=l),error:n(t)("tempat_lahir"),name:"tempat_lahir",inputmode:"text",required:"",class:"h-full"},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("tempat_lahir")},null,8,Ce)]),e("div",Oe,[a[16]||(a[16]=e("label",{class:"mb-1 block text-black dark:text-white",for:"tanggal-lahir"}," Tanggal Lahir ",-1)),e("div",Be,[o(n(re),{modelValue:h.value,"onUpdate:modelValue":a[12]||(a[12]=l=>h.value=l),class:"w-full rounded border border-stroke bg-gray py-1 px-2.5 font-normal text-black focus:border-primary focus-visible:outline-none dark:border-strokedark dark:bg-meta-4 dark:text-white dark:focus:border-primary h-full",config:B.value,id:"tanggal-lahir"},null,8,["modelValue","config"]),e("span",Ae,[o($,{name:"calendar-search",class:"w-5 h-5"})])]),e("div",{innerHTML:n(s)("tanggal_lahir")},null,8,Re)])]),e("div",$e,[o(i,{label:"Nama Ayah",modelValue:L.value,"onUpdate:modelValue":a[13]||(a[13]=l=>L.value=l),error:n(t)("nama_bapak"),name:"nama_bapak",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("nama_bapak")},null,8,De)]),e("div",Ge,[o(i,{label:"Nama Ibu",modelValue:T.value,"onUpdate:modelValue":a[14]||(a[14]=l=>T.value=l),error:n(t)("nama_ibu"),name:"nama_ibu",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("nama_ibu")},null,8,ze)]),e("div",Je,[o(i,{label:"No. HP Orang Tua",modelValue:M.value,"onUpdate:modelValue":a[15]||(a[15]=l=>M.value=l),error:n(t)("no_hp_ortu"),name:"no_hp_ortu",inputmode:"text",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:n(s)("no_hp_ortu")},null,8,Fe)]),e("div",We,[e("button",{disabled:n(x),class:"w-full flex justify-center rounded bg-primary py-2 px-6 font-medium text-white hover:bg-opacity-90"},[e("span",Qe,[o(te,{loading:n(x),size:"xs",class:Q(["transition-transform duration-300 ease-in-out gap-2",n(x)?"translate-x-[-10px]":"translate-x-0"])},null,8,["loading","class"]),a[17]||(a[17]=X(" Daftar "))])],8,Ye)])],32)]),_:1})]),_:1})}}});export{va as default};
