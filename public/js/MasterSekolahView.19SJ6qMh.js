import{_ as ce,a as ge}from"./DefaultLayout.vue_vue_type_script_setup_true_lang.6-Gez_Sj.js";import{d as F,h as k,P as ve,l as q,o as X,a as c,c as f,b as e,t as w,j as D,e as s,D as de,H as ke,F as B,k as O,g as E,f as z,A as ie,E as fe,C as N,B as L,r as he,u as i,n as te,w as Q,p as ye}from"../index.js";import{S as W,b as ue}from"./buatOption.Bie55yYu.js";import{F as re}from"./FilterSelect.DRPwYj1o.js";import{_ as _e}from"./NoDataComponent.vue_vue_type_script_setup_true_lang.0N8bNYdP.js";import{I as p}from"./InputGroup.CGOI8iZn.js";import{u as G}from"./useKecamatan.BULQhWxi.js";import{u as me,a as Y}from"./useSekolah.DNM2-tfN.js";import{j as pe}from"./jenjang.DlmV0PPG.js";import{T as we}from"./TextAreaGroup.zZQPhliB.js";import{u as Ve}from"./formValidationErrors.YeWR-HPr.js";import{h as j}from"./hasError.DGV2MSht.js";import{f as M}from"./fieldErrorHtml.BloJiExM.js";import"./authComposable.sKl44bRY.js";import"./logo-ppdb.BW9ypDwz.js";import"./SpinnerLoading.vue_vue_type_script_setup_true_lang.CQvHfLuO.js";const xe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"},Se={class:"w-full max-w-4xl rounded-lg bg-white shadow-xl max-h-[90vh] overflow-y-auto"},je={class:"flex items-center justify-between border-b px-6 py-4"},Me={class:"text-xl font-bold text-gray-900"},Te={class:"grid grid-cols-1 gap-6 p-6 md:grid-cols-2"},$e={class:"flex flex-col gap-1"},Pe=["disabled"],Ue=["value"],Ce={class:"flex justify-end gap-3 border-t bg-gray-50 px-6 py-4"},Ne=["disabled"],Le={key:0,class:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"},Ee=F({__name:"SekolahFormModal",props:{isOpen:{type:Boolean},isEditMode:{type:Boolean},schoolData:{},loading:{type:Boolean}},emits:["close","submit"],setup(y,{emit:u}){const x=y,h=u,{kecamatanList:T,fetchKecamatan:U}=G(),g=k([]),l=ve({nama_sekolah:"",nss:"",npsn:"",jenjang:"",alamat:"",no_telp:"",email:"",nama_kepsek:"",kecamatan_id:"",daya_tampung:"",username:"",password:""});q(()=>x.schoolData,o=>{var a,t,V;o&&(l.nama_sekolah=o.nama_sekolah||"",l.nss=o.nss||"",l.npsn=o.npsn||"",l.jenjang=o.jenjang||"",l.alamat=o.alamat||"",l.no_telp=o.no_telp||"",l.email=o.email||"",l.nama_kepsek=o.nama_kepsek||"",l.kecamatan_id=(o.kecamatan_id||((a=o.kecamatan)==null?void 0:a.id)||"").toString(),l.daya_tampung=((t=o.daya_tampung)==null?void 0:t.toString())||"",l.username=((V=o.user)==null?void 0:V.username)||"",l.password="")},{immediate:!0}),X(async()=>{await U(),g.value=T.value});const $=()=>{h("submit",{...l})},v=()=>{h("close")};return(o,a)=>o.isOpen?(c(),f("div",xe,[e("div",Se,[e("div",je,[e("h3",Me,w(o.isEditMode?"Edit Data Sekolah":"Detail Sekolah"),1),e("button",{onClick:v,class:"text-gray-500 hover:text-gray-700"},a[12]||(a[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("form",{onSubmit:D($,["prevent"])},[e("div",Te,[s(p,{modelValue:l.nama_sekolah,"onUpdate:modelValue":a[0]||(a[0]=t=>l.nama_sekolah=t),label:"Nama Sekolah",name:"nama_sekolah",required:"",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.nama_kepsek,"onUpdate:modelValue":a[1]||(a[1]=t=>l.nama_kepsek=t),label:"Kepala Sekolah",name:"nama_kepsek",required:"",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.nss,"onUpdate:modelValue":a[2]||(a[2]=t=>l.nss=t),label:"NSS",name:"nss",inputmode:"numeric",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.npsn,"onUpdate:modelValue":a[3]||(a[3]=t=>l.npsn=t),label:"NPSN",name:"npsn",inputmode:"numeric",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.jenjang,"onUpdate:modelValue":a[4]||(a[4]=t=>l.jenjang=t),label:"Jenjang",name:"jenjang",required:"",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.daya_tampung,"onUpdate:modelValue":a[5]||(a[5]=t=>l.daya_tampung=t),label:"Daya Tampung",name:"daya_tampung",inputmode:"numeric",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.no_telp,"onUpdate:modelValue":a[6]||(a[6]=t=>l.no_telp=t),label:"No. Telepon",name:"no_telp",inputmode:"tel",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.alamat,"onUpdate:modelValue":a[7]||(a[7]=t=>l.alamat=t),label:"Alamat",name:"alamat",required:"",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.email,"onUpdate:modelValue":a[8]||(a[8]=t=>l.email=t),label:"Email Sekolah",name:"email",type:"email",required:"",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.username,"onUpdate:modelValue":a[9]||(a[9]=t=>l.username=t),label:"Username Akun",name:"username",disabled:!o.isEditMode},null,8,["modelValue","disabled"]),s(p,{modelValue:l.password,"onUpdate:modelValue":a[10]||(a[10]=t=>l.password=t),label:"Password Akun (Isi jika ingin mengubah)",name:"password",type:"password",disabled:!o.isEditMode,placeholder:"Kosongkan jika tidak ingin mengubah"},null,8,["modelValue","disabled"]),e("div",$e,[a[14]||(a[14]=e("label",{class:"mb-1 block text-black"},"Kecamatan",-1)),de(e("select",{"onUpdate:modelValue":a[11]||(a[11]=t=>l.kecamatan_id=t),class:"w-full rounded border-[1.5px] border-stroke bg-white px-5 py-3 text-black outline-none transition focus:border-primary active:border-primary disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:!o.isEditMode},[a[13]||(a[13]=e("option",{value:"",disabled:""},"Pilih Kecamatan",-1)),(c(!0),f(B,null,O(g.value,t=>(c(),f("option",{key:t.id,value:t.id},w(t.nama),9,Ue))),128))],8,Pe),[[ke,l.kecamatan_id]])])]),e("div",Ce,[e("button",{type:"button",onClick:v,class:"rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"},w(o.isEditMode?"Batal":"Tutup"),1),o.isEditMode?(c(),f("button",{key:0,type:"submit",class:"inline-flex items-center rounded-lg bg-primary px-4 py-2 text-sm font-medium text-white hover:bg-opacity-90 disabled:opacity-50",disabled:o.loading},[o.loading?(c(),f("span",Le)):E("",!0),a[15]||(a[15]=z(" Simpan Perubahan "))],8,Ne)):E("",!0)])],32)])])):E("",!0)}}),He={class:"flex flex-col h-full rounded-xl bg-white shadow-sm border border-gray-100 overflow-hidden"},qe={class:"p-6 border-b border-gray-100"},De={class:"flex flex-wrap justify-between gap-4 items-center"},Ae={class:"flex flex-wrap justify-end gap-2 items-center"},Ke={class:"relative w-full sm:w-64"},Be={class:"w-full sm:w-auto"},Oe={class:"text-sm font-medium text-gray-500 bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100"},Fe={class:"flex-grow overflow-x-auto overflow-y-auto max-h-[calc(100vh-300px)] custom-scrollbar"},ze={class:"table table-zebra table-pin-rows"},Ge={key:1},Ie={colspan:"7",class:"text-center"},Je={class:"font-mono text-sm"},Re={class:"flex gap-2"},Qe=["href","onClick"],We=["href","onClick"],Xe={class:"rounded-b-lg border-t border-gray-200 px-4 py-2"},Ye={class:"flex justify-end gap-1 text-xs font-medium"},Ze={key:0},ea=["onClick"],aa={key:1},la=F({__name:"MasterSekolahTable",props:{data:{type:Object,required:!1},loading:{type:Boolean,default:!1}},emits:["filter","page-change","prev-page","next-page","refresh"],setup(y,{emit:u}){const x=u,h=me(),{kecamatanList:T}=G(),{updateSekolah:U}=Y(),g=k(""),l=k(""),$=k("20"),v=k("");let o=null;const a=k(!1),t=k("view"),V=k(null),C=k(!1),S=ie(()=>{const b=ue(T.value,"nama","id");return[{value:null,label:"Semua Kecamatan"},...b]}),P=k([{label:"Semua Jenjang",value:null},...pe]),_=k([{label:"10",value:10},{label:"20",value:20},{label:"50",value:50},{label:"100",value:100}]);q([g,l],()=>{x("filter",g.value,l.value,v.value)}),q($,b=>{h.per_page=Number(b),x("filter",g.value,l.value,v.value)}),q(v,b=>{o&&clearTimeout(o),o=setTimeout(()=>{h.search=b,x("filter",g.value,l.value,b)},500)});const n=(b,r,A,K)=>{b.ctrlKey||b.metaKey||b.button===1||(b.preventDefault(),V.value=A,t.value=K,a.value=!0)},m=()=>{a.value=!1,V.value=null},be=async b=>{if(!V.value)return;C.value=!0;const r=await U(V.value.id,b);C.value=!1,r?(L({message:"Data sekolah berhasil diperbarui"}),m(),x("refresh")):L({message:"Gagal memperbarui data sekolah",type:"error"})};return(b,r)=>{var K,Z,ee,ae,le,oe;const A=he("router-link");return c(),f("div",He,[e("div",qe,[e("div",De,[r[6]||(r[6]=e("h3",{class:"text-lg font-bold text-gray-800"},"Master Data Sekolah",-1)),e("div",Ae,[e("div",Ke,[de(e("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>v.value=d),type:"text",placeholder:"Cari Sekolah...",class:"w-full rounded-lg border border-gray-200 bg-white py-2 pl-10 pr-4 text-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"},null,512),[[fe,v.value]]),s(N,{name:"view-finder",class:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]),e("div",Be,[s(W,{modelValue:$.value,"onUpdate:modelValue":r[1]||(r[1]=d=>$.value=d),name:"per_page",options:_.value,class:"w-full sm:w-auto"},null,8,["modelValue","options"])]),e("span",Oe," Total: "+w(y.loading?"...":(K=y.data)==null?void 0:K.total),1)])])]),e("div",Fe,[e("table",ze,[e("thead",null,[e("tr",null,[r[8]||(r[8]=e("th",null,"No",-1)),r[9]||(r[9]=e("th",null,"Nama Sekolah",-1)),e("td",null,[s(re,{modelValue:l.value,"onUpdate:modelValue":r[2]||(r[2]=d=>l.value=d),options:P.value,class:"w-full",placeholder:"Jenjang",customClasses:"border-0 shadow-none"},null,8,["modelValue","options"])]),r[10]||(r[10]=e("td",null,"NSS",-1)),r[11]||(r[11]=e("td",null,"NPSN",-1)),r[12]||(r[12]=e("td",null,"Username",-1)),e("td",null,[r[7]||(r[7]=z("Kecamatan ")),s(re,{modelValue:g.value,"onUpdate:modelValue":r[3]||(r[3]=d=>g.value=d),options:S.value,class:"w-full mt-1",placeholder:"Filter Kecamatan",customClasses:"border-0 shadow-none"},null,8,["modelValue","options"])]),r[13]||(r[13]=e("th",null,"Aksi",-1))])]),e("tbody",null,[y.loading?(c(),f(B,{key:0},O(5,d=>e("tr",{key:d},r[14]||(r[14]=[e("td",{colspan:"7"},[e("div",{class:"flex gap-4"},[e("span",{class:"skeleton h-4 w-8 rounded block"}),e("span",{class:"skeleton h-4 w-36 rounded block"}),e("span",{class:"skeleton h-4 w-24 rounded block"}),e("span",{class:"skeleton h-4 w-24 rounded block"}),e("span",{class:"skeleton h-4 w-24 rounded block"}),e("span",{class:"skeleton h-4 w-36 rounded block"}),e("span",{class:"skeleton h-4 w-12 rounded block"})])],-1)]))),64)):((Z=y.data)==null?void 0:Z.data.length)===0?(c(),f("tr",Ge,[e("th",Ie,[s(_e,{title:"Data Sekolah",message:"Data Tidak Ditemukan"})])])):(c(!0),f(B,{key:2},O((ee=y.data)==null?void 0:ee.data,(d,H)=>{var ne,se;return c(),f("tr",{key:H},[e("td",null,w((i(h).currentPage-1)*i(h).per_page+H+1),1),e("th",null,w(d.nama_sekolah),1),e("td",null,[e("span",{class:te(["px-2 py-1 rounded text-xs font-semibold",{"bg-blue-100 text-blue-700":d.jenjang==="sd","bg-orange-100 text-orange-700":d.jenjang==="smp"}])},w(d.jenjang.toUpperCase()),3)]),e("td",null,w(d.nss||"-"),1),e("td",null,w(d.npsn||"-"),1),e("td",Je,w(((ne=d.user)==null?void 0:ne.username)||"-"),1),e("td",null,w(((se=d.kecamatan)==null?void 0:se.nama)||"-"),1),e("td",null,[e("div",Re,[s(A,{to:{name:"sekolahDetail",params:{id:d.id},query:{mode:"view"}},custom:""},{default:Q(({href:I,navigate:J})=>[e("a",{href:I,onClick:R=>n(R,J,d,"view"),class:"btn btn-sm btn-square btn-ghost text-blue-600 hover:bg-blue-50",title:"Lihat Detail"},[s(N,{name:"eye",class:"w-5 h-5"})],8,Qe)]),_:2},1032,["to"]),s(A,{to:{name:"sekolahDetail",params:{id:d.id},query:{mode:"edit"}},custom:""},{default:Q(({href:I,navigate:J})=>[e("a",{href:I,onClick:R=>n(R,J,d,"edit"),class:"btn btn-sm btn-square btn-ghost text-orange-600 hover:bg-orange-50",title:"Edit Data"},[s(N,{name:"document-text",class:"w-5 h-5"})],8,We)]),_:2},1032,["to"])])])])}),128))])])]),e("div",Xe,[e("ol",Ye,[(ae=y.data)!=null&&ae.prevPage?(c(),f("li",Ze,[e("a",{onClick:r[4]||(r[4]=D(d=>b.$emit("prev-page"),["prevent"])),href:"#",class:"inline-flex size-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180 hover:bg-gray-50"},[r[15]||(r[15]=e("span",{class:"sr-only"},"Prev Page",-1)),s(N,{name:"chevron-left",class:"size-3"})])])):E("",!0),(c(!0),f(B,null,O(Array.from({length:((le=y.data)==null?void 0:le.lastPage)||1},(d,H)=>H+1),d=>(c(),f("li",{key:d},[e("a",{href:"#",class:te(["block size-8 rounded border text-center leading-8",i(h).currentPage===d?"bg-primary text-white border-primary":"text-gray-900 border-gray-100 bg-white hover:bg-gray-100"]),onClick:D(H=>b.$emit("page-change",d),["prevent"])},w(d),11,ea)]))),128)),(oe=y.data)!=null&&oe.nextPage?(c(),f("li",aa,[e("a",{onClick:r[5]||(r[5]=D(d=>b.$emit("next-page"),["prevent"])),href:"#",class:"inline-flex size-8 items-center justify-center rounded border border-gray-100 bg-white text-gray-900 rtl:rotate-180 hover:bg-gray-50"},[r[16]||(r[16]=e("span",{class:"sr-only"},"Next Page",-1)),s(N,{name:"chevron-right",class:"size-3"})])])):E("",!0)])]),s(Ee,{"is-open":a.value,"is-edit-mode":t.value==="edit","school-data":V.value,loading:C.value,onClose:m,onSubmit:be},null,8,["is-open","is-edit-mode","school-data","loading"])])}}}),oa={class:"modal-box w-11/12 max-w-4xl"},na={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},sa={class:"mb-3"},ta=["innerHTML"],ra={class:"mb-3"},da=["innerHTML"],ia={class:"mb-3"},ua=["innerHTML"],ma={class:"mb-3"},pa=["innerHTML"],ba={class:"mb-3"},ca=["innerHTML"],ga={class:"mb-3"},va=["innerHTML"],ka={class:"mb-3"},fa=["innerHTML"],ha={class:"mb-3"},ya=["innerHTML"],_a={class:"col-span-1 md:col-span-2 mb-3"},wa=["innerHTML"],Va={class:"mb-3"},xa=["innerHTML"],Sa={class:"mb-3"},ja=["innerHTML"],Ma={class:"modal-action"},Ta=["disabled"],$a={key:0,class:"loading loading-spinner loading-xs"},Pa=F({__name:"AddSekolahModal",props:{isOpen:{type:Boolean,required:!0}},emits:["close","success"],setup(y,{emit:u}){const x=y,h=u,T=k(null),{kecamatanList:U,fetchKecamatan:g}=G(),{createSekolah:l}=Y(),$=Ve(),v=k(!1),o=k({}),a=k({nama_sekolah:"",nss:"",npsn:"",jenjang:"",alamat:"",no_telp:"",email:"",nama_kepsek:"",kecamatan_id:"",username:"",password:""}),t=pe,V=ie(()=>ue(U.value,"nama","id")),C=()=>{a.value={nama_sekolah:"",nss:"",npsn:"",jenjang:"",alamat:"",no_telp:"",email:"",nama_kepsek:"",kecamatan_id:"",username:"",password:""},$.clearErrors(),o.value={}},S=()=>{h("close")},P=async()=>{v.value=!0,$.clearErrors(),o.value={};try{const _=await l(a.value);if(_.success)L({message:"Sekolah berhasil ditambahkan",type:"success"}),C(),h("success"),h("close");else{const n=_.error;typeof n=="object"&&n!==null?L({message:"Gagal menyimpan data sekolah. Periksa inputan.",type:"error"}):L({message:typeof n=="string"?n:"Gagal menyimpan data",type:"error"})}}catch{L({message:"Terjadi kesalahan sistem",type:"error"})}finally{v.value=!1}};return q(()=>x.isOpen,_=>{var n,m;_?((n=T.value)==null||n.showModal(),g()):(m=T.value)==null||m.close()}),X(()=>{var _;x.isOpen&&((_=T.value)==null||_.showModal(),g())}),(_,n)=>(c(),f("dialog",{ref_key:"modalRef",ref:T,class:"modal",onClose:S},[e("div",oa,[e("form",{method:"dialog"},[e("button",{class:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:S},"âœ•")]),n[13]||(n[13]=e("h3",{class:"font-bold text-lg mb-6 border-b pb-2"},"Tambah Sekolah Baru",-1)),e("form",{onSubmit:D(P,["prevent"]),class:"space-y-4"},[e("div",na,[n[11]||(n[11]=e("div",{class:"col-span-1 md:col-span-2"},[e("h4",{class:"text-sm font-semibold text-gray-500 uppercase tracking-wider"},"Informasi Sekolah")],-1)),e("div",sa,[s(p,{label:"Nama Sekolah",name:"nama_sekolah",modelValue:a.value.nama_sekolah,"onUpdate:modelValue":n[0]||(n[0]=m=>a.value.nama_sekolah=m),error:i(j)("nama_sekolah"),placeholder:"Contoh: SDN 1 Teluk Kuantan",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("nama_sekolah")},null,8,ta)]),e("div",ra,[s(W,{label:"Jenjang",options:i(t),modelValue:a.value.jenjang,"onUpdate:modelValue":n[1]||(n[1]=m=>a.value.jenjang=m),error:i(j)("jenjang"),placeholder:"Pilih Jenjang",required:""},null,8,["options","modelValue","error"]),e("div",{innerHTML:i(M)("jenjang")},null,8,da)]),e("div",ia,[s(p,{label:"NSS",name:"nss",modelValue:a.value.nss,"onUpdate:modelValue":n[2]||(n[2]=m=>a.value.nss=m),error:i(j)("nss"),placeholder:"Nomor Statistik Sekolah",inputmode:"numeric",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("nss")},null,8,ua)]),e("div",ma,[s(p,{label:"NPSN",name:"npsn",modelValue:a.value.npsn,"onUpdate:modelValue":n[3]||(n[3]=m=>a.value.npsn=m),error:i(j)("npsn"),placeholder:"Nomor Pokok Sekolah Nasional",inputmode:"numeric",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("npsn")},null,8,pa)]),e("div",ba,[s(p,{label:"Nama Kepala Sekolah",name:"nama_kepsek",modelValue:a.value.nama_kepsek,"onUpdate:modelValue":n[4]||(n[4]=m=>a.value.nama_kepsek=m),error:i(j)("nama_kepsek"),placeholder:"Nama Lengkap dengan Gelar",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("nama_kepsek")},null,8,ca)]),e("div",ga,[s(W,{label:"Kecamatan",options:V.value,modelValue:a.value.kecamatan_id,"onUpdate:modelValue":n[5]||(n[5]=m=>a.value.kecamatan_id=m),error:i(j)("kecamatan_id"),placeholder:"Pilih Kecamatan",required:""},null,8,["options","modelValue","error"]),e("div",{innerHTML:i(M)("kecamatan_id")},null,8,va)]),e("div",ka,[s(p,{label:"No. Telepon",name:"no_telp",modelValue:a.value.no_telp,"onUpdate:modelValue":n[6]||(n[6]=m=>a.value.no_telp=m),error:i(j)("no_telp"),placeholder:"Nomor Telepon / HP",inputmode:"tel",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("no_telp")},null,8,fa)]),e("div",ha,[s(p,{label:"Email Sekolah",name:"email",type:"email",modelValue:a.value.email,"onUpdate:modelValue":n[7]||(n[7]=m=>a.value.email=m),error:i(j)("email"),placeholder:"email@sekolah.sch.id",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("email")},null,8,ya)]),e("div",_a,[s(we,{label:"Alamat",name:"alamat",modelValue:a.value.alamat,"onUpdate:modelValue":n[8]||(n[8]=m=>a.value.alamat=m),error:i(j)("alamat"),placeholder:"Alamat lengkap sekolah...",rows:3,required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("alamat")},null,8,wa)]),n[12]||(n[12]=e("div",{class:"col-span-1 md:col-span-2 mt-4 pt-4 border-t"},[e("h4",{class:"text-sm font-semibold text-gray-500 uppercase tracking-wider"},"Akun Pengguna")],-1)),e("div",Va,[s(p,{label:"Username",name:"username",modelValue:a.value.username,"onUpdate:modelValue":n[9]||(n[9]=m=>a.value.username=m),error:i(j)("username"),placeholder:"Username untuk login",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("username")},null,8,xa)]),e("div",Sa,[s(p,{label:"Password",name:"password",type:"password",modelValue:a.value.password,"onUpdate:modelValue":n[10]||(n[10]=m=>a.value.password=m),error:i(j)("password"),placeholder:"Password login",required:""},null,8,["modelValue","error"]),e("div",{innerHTML:i(M)("password")},null,8,ja)])]),e("div",Ma,[e("button",{type:"button",class:"btn",onClick:S},"Batal"),e("button",{type:"submit",class:"btn btn-primary",disabled:v.value},[v.value?(c(),f("span",$a)):E("",!0),z(" "+w(v.value?"Menyimpan...":"Simpan Sekolah"),1)],8,Ta)])],32)])],544))}}),Ua={class:"mb-4 flex justify-end"},Ra=F({__name:"MasterSekolahView",setup(y){const u=me(),{fetchAllSekolah:x,loadingSekolah:h,dataSekolah:T}=Y(),{fetchKecamatan:U}=G(),g=k(!1),l=()=>{g.value=!0},$=()=>{g.value=!1},v=()=>{o()},o=()=>{x(u.per_page,u.currentPage,u.jenjang,u.kecamatan_id,u.search)},a=S=>{u.page=S,u.currentPage=S,o()},t=()=>{u.page=u.page+1,u.currentPage=u.currentPage+1,o()},V=()=>{u.page=u.page-1,u.currentPage=u.currentPage-1,o()},C=(S,P,_)=>{u.kecamatan_id=S,u.jenjang=P,u.search=_,u.page=1,u.currentPage=1,o()};return X(async()=>{await u.resetTodefault(),U(),o()}),(S,P)=>(c(),ye(ge,null,{default:Q(()=>[s(ce,{pageTitle:"Master Data Sekolah"}),e("div",Ua,[e("button",{onClick:l,class:"inline-flex items-center justify-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2"},[s(N,{name:"plus",class:"mr-2 h-5 w-5"}),P[0]||(P[0]=z(" Tambah Sekolah "))])]),s(la,{data:i(T),loading:i(h),onFilter:C,onRefresh:o,onPrevPage:V,onNextPage:t,onPageChange:a},null,8,["data","loading"]),s(Pa,{"is-open":g.value,onClose:$,onSuccess:v},null,8,["is-open"])]),_:1}))}});export{Ra as default};
