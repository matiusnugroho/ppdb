import{_ as C,a as E}from"./DefaultLayout.vue_vue_type_script_setup_true_lang.DzSHU-wV.js";import{I as i}from"./InputGroup.B4554_nz.js";import{_ as f}from"./PasswordInput.vue_vue_type_script_setup_true_lang.DTq_JsKd.js";import{_ as b}from"./SpinnerLoading.vue_vue_type_script_setup_true_lang.CuUXFzUo.js";import{u as T}from"./useAkun.JoZZsxsW.js";import{u as B}from"./useSetting.X6b3pKRe.js";import{f as S}from"./fieldErrorHtml.CQlIIKHn.js";import{d as U,I as z,A as u,f as I,g as j,o as $,m as H,w as d,b as t,a as s,u as k,e as L,B as x}from"../index.js";import{u as N}from"./formValidationErrors.Bg25VS2r.js";import"./authComposable.-2CSDGmy.js";import"./logo-ppdb.BW9ypDwz.js";const O={class:"min-h-screen"},D={class:"max-w-4xl mx-auto space-y-6 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-6"},F={class:"bg-white dark:bg-boxdark rounded-lg shadow-sm border border-stroke dark:border-strokedark"},G={class:"p-6 border-t border-stroke dark:border-strokedark space-y-4"},q=["innerHTML"],J={class:"p-6 border-t border-stroke dark:border-strokedark flex justify-end"},K={class:"flex items-center gap-2"},Q={class:"bg-white dark:bg-boxdark rounded-lg shadow-sm border border-stroke dark:border-strokedark"},R={class:"p-6 border-t border-stroke dark:border-strokedark space-y-4"},W={class:"p-6 border-t border-stroke dark:border-strokedark flex justify-end"},ie=U({__name:"AkunView",setup(X){const{settingData:o,fetchSetting:h,updateSetting:V,isLoading:y}=B(),n=z(),{loadingAkun:_,updateAkun:A}=T(),c=u({get:()=>{var a;return(a=n.user)==null?void 0:a.username},set:a=>{n.user.username=a,l.value.username=a}}),g=u({get:()=>{var a;return(a=n.user)==null?void 0:a.email},set:a=>{n.user.email=a,l.value.email=a}}),l=I({username:n.user.username,email:n.user.email,currentPassword:"",newPassword:"",confirmPassword:""}),m=u({get:()=>{var a;return(a=o.value.social_media)==null?void 0:a.instagram},set:a=>{o.value.social_media.instagram=a}}),p=u({get:()=>{var a;return(a=o.value.social_media)==null?void 0:a.twitter},set:a=>{o.value.social_media.twitter=a}}),w=u({get:()=>{var a;return(a=o.value.social_media)==null?void 0:a.tiktok},set:a=>{o.value.social_media.tiktok=a}}),v=N(),M=async()=>{const a=Object.fromEntries(Object.entries(l.value).filter(([,r])=>r)),e=await A(a);if(e.success)x({type:"success",message:"Akun berhasil diperbarui"});else{const r=e.errors;v.errors=r,x({type:"error",message:e.message})}},P=async()=>{const a={url_video_tutorial:o.value.url_video_tutorial,social_media:{instagram:m.value,twitter:p.value,tiktok:w.value}};await V(a)};return j(async()=>{v.clearErrors(),await h()}),(a,e)=>($(),H(E,null,{default:d(()=>[t(C,{pageTitle:"Akun"}),s("div",O,[s("div",D,[s("div",F,[e[10]||(e[10]=s("div",{class:"p-6"},[s("h2",{class:"text-xl font-semibold text-black dark:text-white"},"Ubah data akun")],-1)),s("div",G,[t(i,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=r=>c.value=r),label:"Username",name:"username",placeholder:"Enter new username"},{default:d(()=>e[7]||(e[7]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("circle",{cx:"12",cy:"12",r:"4"}),s("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"})],-1)])),_:1},8,["modelValue"]),t(i,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=r=>g.value=r),label:"Email",name:"email",placeholder:"Email baru"},{default:d(()=>e[8]||(e[8]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("circle",{cx:"12",cy:"12",r:"4"}),s("path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"})],-1)])),_:1},8,["modelValue"]),t(f,{modelValue:l.value.currentPassword,"onUpdate:modelValue":e[2]||(e[2]=r=>l.value.currentPassword=r),label:"Password sekarang",name:"currentPassword",type:"password",placeholder:"Masukkan password sekarang"},null,8,["modelValue"]),s("div",{innerHTML:k(S)("currentPassword")},null,8,q),t(f,{modelValue:l.value.newPassword,"onUpdate:modelValue":e[3]||(e[3]=r=>l.value.newPassword=r),label:"Pawword Baru",name:"newPassword",type:"password",placeholder:"Enter new password"},null,8,["modelValue"])]),s("div",J,[s("button",{onClick:M,class:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},[s("span",K,[t(b,{loading:k(_),size:"xs"},null,8,["loading"]),e[9]||(e[9]=L(" Simpan "))])])])]),s("div",Q,[e[15]||(e[15]=s("div",{class:"p-6"},[s("h2",{class:"text-xl font-semibold text-black dark:text-white"},"Akun Media Sosial")],-1)),s("div",R,[t(i,{modelValue:m.value,"onUpdate:modelValue":e[4]||(e[4]=r=>m.value=r),label:"Instagram",name:"instagram",placeholder:"Enter Instagram username"},{default:d(()=>e[11]||(e[11]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),s("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),s("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})],-1)])),_:1},8,["modelValue"]),t(i,{modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=r=>p.value=r),label:"Twitter",name:"twitter",placeholder:"Enter Twitter username"},{default:d(()=>e[12]||(e[12]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})],-1)])),_:1},8,["modelValue"]),t(i,{modelValue:w.value,"onUpdate:modelValue":e[6]||(e[6]=r=>w.value=r),label:"TikTok",name:"tiktok",placeholder:"Enter TikTok username"},{default:d(()=>e[13]||(e[13]=[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[s("path",{d:"M21 8v8a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5V8a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5z"}),s("path",{d:"M10 12a3 3 0 1 1-3 3V6a3 3 0 0 1 3-3"})],-1)])),_:1},8,["modelValue"])]),s("div",W,[s("button",{onClick:P,class:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2"},[t(b,{loading:k(y),size:"xs"},null,8,["loading"]),e[14]||(e[14]=s("span",null,"Simpan",-1))])])])])])]),_:1}))}});export{ie as default};
