import{X as S,f as e,M as f,W as k,L as d}from"../index.js";const g=S("pagination",()=>{const u=e(20),r=e(1),t=e(1),a=e(null),l=e(null);return{per_page:u,page:t,jenjang:a,kecamatan_id:l,currentPage:r,resetTodefault:()=>{u.value=20,r.value=1,t.value=1,a.value=null,l.value=null}}},{persist:!0});function P(){const u=e(null),r=e([]),t=e(null),a=e(!1),l=g();return{dataSekolah:u,error:t,loadingSekolah:a,sekolahList:r,fetchAllSekolah:async(c=20,n=1,i="",s="")=>{const o=[];n!==null&&o.push(`page=${n}`),c!==null&&o.push(`per_page=${c}`),i!==null&&o.push(`jenjang=${i}`),s!==null&&o.push(`kecamatan_id=${s}`);const v=`${d.GET_SEKOLAH_ALL}${o.length?"?"+o.join("&"):""}`;l.per_page=c,l.page=n,l.currentPage=n,l.jenjang=i,l.kecamatan_id=s,a.value=!0;try{const h=await f.get(v);u.value=h.data}catch{t.value="Failed to load sekolah list"}finally{a.value=!1}},fetchSekolah:async(c,n="")=>{const i=k(d.GET_SEKOLAH,{kecamatan_id:c,jenjang:n});a.value=!0;try{const s=await f.get(i);r.value=s.data.data}catch{t.value="Failed to load sekolah list"}finally{a.value=!1}}}}export{P as a,g as u};
